{
  "hrfVersion": "1.0.0",
  "messages": [
    {
      "role": "system",
      "channel": "analysis",
      "contentType": "text",
      "content": "You are a helpful assistant. Follow HRF."
    },
    {
      "role": "user",
      "channel": "analysis",
      "contentType": "text",
      "content": "Find 2 coffee shops near me and format the answer as a tiny itinerary."
    },
    {
      "role": "assistant",
      "channel": "commentary",
      "recipient": "mcp.orchestrator",
      "contentType": "harmony-script",
      "termination": "end",
      "content": {
        "steps": [
          {
            "type": "extract-input",
            "output": {
              "query": "$input.text"
            }
          },
          {
            "type": "tool-call",
            "recipient": "mcp.search",
            "channel": "commentary",
            "args": {
              "query": "$vars.query",
              "limit": 2
            },
            "save_as": "places"
          },
          {
            "type": "assistant-message",
            "channel": "final",
            "content": "If tools are unavailable, the runtime should block before executing and record why."
          }
        ]
      }
    },
    {
      "role": "assistant",
      "channel": "final",
      "contentType": "text",
      "termination": "return",
      "content": "."
    }
  ]
}