{
  "hrfVersion": "1.0.0",
  "messages": [
    {
      "role": "system",
      "channel": "analysis",
      "contentType": "text",
      "content": "You are a helpful assistant. Follow HRF."
    },
    {
      "role": "user",
      "channel": "analysis",
      "contentType": "text",
      "content": "I’m planning a short NYC coffee crawl. Find 2 standout shops and summarize why they’re worth visiting."
    },
    {
      "role": "assistant",
      "channel": "commentary",
      "recipient": "mcp.orchestrator",
      "contentType": "harmony-script",
      "termination": "end",
      "content": {
        "vars": {
          "limit": 2
        },
        "steps": [
          {
            "type": "extract-input",
            "output": {
              "query": "$input.text"
            }
          },
          {
            "type": "tool-call",
            "recipient": "mcp.search",
            "channel": "commentary",
            "args": {
              "query": "$vars.query",
              "limit": 2
            },
            "save_as": "places"
          },
          {
            "type": "tool-call",
            "recipient": "mcp.summarize",
            "channel": "commentary",
            "args": {
              "items": "$vars.places"
            },
            "save_as": "summary"
          },
          {
            "type": "assistant-message",
            "channel": "final",
            "content_template": "Here are two coffee stops to consider:\\n\\n{{vars.summary}}"
          }
        ]
      }
    },
    {
      "role": "assistant",
      "channel": "final",
      "contentType": "text",
      "termination": "return",
      "content": "."
    }
  ]
}